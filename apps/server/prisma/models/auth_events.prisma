enum AuthEventType {
  SESSION_ISSUED
}

model AuthEvent {
  id         String        @id @default(uuid(7)) @db.Uuid
  userId     String        @map("user_id") @db.Uuid
  type       AuthEventType @default(SESSION_ISSUED)
  occurredAt DateTime      @default(now()) @map("occurred_at") @db.Timestamptz

  user User @relation(fields: [userId], references: [id])

  @@index([userId], name: "idx_auth_events_user")
  @@index([occurredAt], name: "idx_auth_events_occurred_at")
  @@index([occurredAt, userId], name: "idx_auth_events_active_users")
}
